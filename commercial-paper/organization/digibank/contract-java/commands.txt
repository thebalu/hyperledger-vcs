Very important to use bash, not zsh!

========== BUILD =================
cd /Users/balazsvarga/blockchain/fabric-samples/commercial-paper/organization/digibank/contract-java
./gradlew clean build


bash
cd /Users/balazsvarga/blockchain/fabric-samples/commercial-paper/organization/digibank
source ./digibank.sh
peer lifecycle chaincode package cp.tar.gz --lang java --path ./contract-java --label commit_1

========== INSTALL AS DIGIBANK =================

peer lifecycle chaincode install cp.tar.gz
export PACKAGE_ID=commit_1:4b0c96e518460968be2ff5abe2f630343b580f4db155a0aa04d47803099636ba
peer lifecycle chaincode approveformyorg --orderer localhost:7050 --ordererTLSHostnameOverride orderer.example.com \
--channelID mychannel --name newcommit -v 0 --package-id $PACKAGE_ID --sequence 1 --tls --cafile $ORDERER_CA


peer lifecycle chaincode queryinstalled

========== INSTALL SAME ONE AS MAGNETOCORP =================

source ../magnetocorp/magnetocorp.sh
peer lifecycle chaincode install cp.tar.gz

export PACKAGE_ID=commit_0:3d6ef418745d2d26ba97f07594e0746439fc8e3d5296f5493f7c89c9e075715d
peer lifecycle chaincode approveformyorg --orderer localhost:7050 --ordererTLSHostnameOverride orderer.example.com \
--channelID mychannel --name newcommit -v 0 --package-id $PACKAGE_ID --sequence 1 --tls --cafile $ORDERER_CA


peer lifecycle chaincode commit -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --peerAddresses localhost:7051 \
 --tlsRootCertFiles ${PEER0_ORG1_CA} --peerAddresses localhost:9051 --tlsRootCertFiles ${PEER0_ORG2_CA} --channelID mychannel \
  --name newcommit -v 0 --sequence 1 --tls --cafile $ORDERER_CA --waitForEvent

peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com \
 --tls --cafile "/Users/balazsvarga/blockchain/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" \
 -C mychannel -n newcommit --peerAddresses localhost:7051 --tlsRootCertFiles "${PEER0_ORG1_CA}" \
 --peerAddresses localhost:9051 --tlsRootCertFiles "${PEER0_ORG2_CA}" \
 -c '{"function":"createCommit","Args":["someCommitter","qwe","2022-01-01T12:12:12","1","some diff"]}'
